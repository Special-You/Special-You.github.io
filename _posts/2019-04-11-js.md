---
title: js 基础笔记
date: 2019-04-11 13:09:04
description: js 
tags: js
categories: js
description: js 随笔
---




###  原型
+ 原型链的顶层是Object.prototype，而这个对象的是没有原型对象的。可在chrome的控制台里面输入：Object.__proto__输出是:function Empty() {}

### 引用类型

#### Object 类型
1. 创建Object实例的方式有两种：
第一种：使用new操作符后跟Object构造函数

```
var person = new Object();   与  var person = {};   相同
    person.name = 'niko';
    person.age = 20;

```

第二种：对象字面量表示法

```

var person = { 
 name : "Nicholas", 
 age : 29 
};

```



### 事件
#### 事件就是用户或浏览器自身执行的某种动作。诸如 click、load 和 mouseover，都是事件的名字。而响应某个事件的函数就叫做事件处理程序（或事件侦听器）。事件处理程序的名字以"on"开头，因此click 事件的事件处理程序就是 onclick，load 事件的事件处理程序就是 onload。
#### 在客户端web应用中，有两种方式注册事件：1. 通过把函数赋给某个特殊属性；2. 通过使用内置addEventListener方法。第一种方法有弊端，如果给同一个元素注册相同名字的事件，后面的事件会覆盖前面的事件。


### 函数
#### 定义函数的四种方式：1.函数声明和函数表达式 2.箭头函数 3.构造函数 4.生成器函数





### 在开发中需要优化的语句
1. 用switch 代替 多层if-else

```

if (i == 25){ 
 alert("25"); 
} else if (i == 35) { 
 alert("35"); 
} else if (i == 45) { 
 alert("45"); 
} else { 
 alert("Other"); 
}

```

```

switch (i) { 
 case 25: 
 alert("25"); 
 break; 
 case 35: 
 alert("35"); 
 break; 
 case 45: 
 alert("45"); 
 break; 
 default: 
 alert("Other"); 
}

```

### 数组
#### 转换数组
+ 数组转为字符串： toString()
+ 字符串转为数组： valueOf()
+ 数组的join方法：

```

var colors = ["red", "green", "blue"]; 
alert(colors.join(",")); //red,green,blue

```

#### 栈方法（后进先出 =》 最新添加的最早被移除）
+ push() 接受任意数量的参数，逐个添加到数组末尾，返回修改后数组的长度

```

var colors = new Array(); // 创建一个数组
var count = colors.push("red", "green"); // 推入两项
alert(count); //2 
count = colors.push("black"); // 推入另一项
alert(count); //3

```

+ pop() 从数组末尾移除最后一项，减少数组的length值，返回移除的项

```

var item = colors.pop(); // 取得最后一项
alert(item); //"black" 
alert(colors.length); //2

```

####  队列方法（先进先出 队列在列表的末端添加项，从列表的前端移除项 ）
+ push() 接受任意数量的参数，逐个添加到数组末尾，返回修改后数组的长度

```

var colors = new Array(); // 创建一个数组
var count = colors.push("red", "green"); // 推入两项
alert(count); //2 
count = colors.push("black"); // 推入另一项
alert(count); //3

```

+ shift() 从数组中移除第一项，减少数组的length值，返回移除的项

```

var item = colors.shift(); //取得第一项
alert(item); //"red" 
alert(colors.length); //2

```

+ unshift() 在数组前端添加任意个项并返回新数组的长度

```
var count = colors.unshift("red", "green"); //推入两项
alert(count); //2

```

####  重排序方法 ： reverse()和 sort()

+ reverse()

```

var values = [1, 2, 3, 4, 5]; 
values.reverse(); 
alert(values); //5,4,3,2,1

```

+ sort() 在默认情况下，sort()方法按升序排列数组项——即最小的值位于最前面，最大的值排在最后面。为了实现排序，sort()方法会调用每个数组项的 toString()转型方法，然后比较得到的字符串，以确定如何排序。即使数组中的每一项都是数值，sort()方法比较的也是字符串.

```

var values = [0, 1, 5, 10, 15]; 
values.sort(); 
alert(values); //0,1,10,15,5

```

+ sort()方法可以接收一个比较函数作为参数，以便我们指定哪个值位于哪个值的前面。

```

function compare(value1, value2) { 
 if (value1 < value2) { 
 return -1; 
 } else if (value1 > value2) { 
 return 1; 
 } else { 
 return 0; 
 } 
} 
```

```

var values = [0, 1, 5, 10, 15]; 
values.sort(compare);
alert(values); //0,1,5,10,15

```

对于数值类型或者其 valueOf()方法会返回数值类型的对象类型，可以使用一个更简单的比较函数。这个函数只要用第二个值减第一个值即可

```

function compare(value1, value2){ 
 return value2 - value1; 
}

```

####  常用数组操作方法
+ concat()：先创建当前数组一个副本，然后将接收到的参数添加到这个副本的末尾，最后返回新构建的数组。
+ slice()： 接收一或两个参数   如果只有一个参数，返回该参数指定位置开始到当前数组末尾的所有项    如果有两个参数，返回开始位置和结束位置之间的项（不包括结束位置）  如果 slice()方法的参数中有一个负数，则用数组长度加上该数来确定相应的位置。例如，在一个包含 5 项的数组上调用 slice(-2,-1)与调用 slice(3,4)得到的结果相同。如果结束位置小于起始位置，则返回空数组。slice()方法不会影响原始数组。
+ splice()  删除：2个参数，要删除的第一项的位置和要删除的项数   插入：3个参数，起始位置、0（要删除的项）、要插入的项    替换：3个参数，起始位置、要删除的项、要插入的项。 主要用途是向数组的中部插入项

####  位置方法：indexOf()和 lastIndexOf() ，两个参数：要查找的项和（可选的）表示查找起点位置的索引，都返回要查找的项在数组中的位置，或者在没找到的情况下返回-1

```

var numbers = [1,2,3,4,5,4,3,2,1]; 
alert(numbers.indexOf(4)); //3
alert(numbers.lastIndexOf(4)); //5 
alert(numbers.indexOf(4, 4)); //5 
alert(numbers.lastIndexOf(4, 4)); //3

```

####  迭代方法
+ every()：对数组中的每一项运行给定函数，如果该函数对每一项都返回 true，则返回 true。
+ filter()：对数组中的每一项运行给定函数，返回该函数会返回 true 的项组成的数组。
+ forEach()：对数组中的每一项运行给定函数。这个方法没有返回值。本质上与使用 for 循环迭代数组一样
+ map()：对数组中的每一项运行给定函数，返回每次函数调用的结果组成的数组。
+ some()：对数组中的每一项运行给定函数，如果该函数对任一项返回 true，则返回 true。

```

var numbers = [1,2,3,4,5,4,3,2,1];
var everyResult = numbers.every(function(item, index, array){ 
 return (item > 2); 
}); 
alert(everyResult);  //false

var someResult = numbers.some(function(item, index, array){ 
 return (item > 2); 
}); 
alert(someResult); //true

var filterResult = numbers.filter(function(item, index, array){ 
 return (item > 2); 
}); 
alert(filterResult); //[3,4,5,4,3]

var mapResult = numbers.map(function(item, index, array){ 
 return item * 2; 
}); 
alert(mapResult); //[2,4,6,8,10,8,6,4,2]

numbers.forEach(function(item, index, array){ 
 //执行某些操作 
});

```
























